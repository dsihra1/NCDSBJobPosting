CREATE TABLE [dbo].[City] (
    [Code] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](150) NOT NULL,
    CONSTRAINT [PK_dbo.City] PRIMARY KEY ([Code])
)
CREATE TABLE [dbo].[School] (
    [SCode] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](150) NOT NULL,
    [CityCode] [nvarchar](128),
    CONSTRAINT [PK_dbo.School] PRIMARY KEY ([SCode])
)
CREATE INDEX [IX_CityCode] ON [dbo].[School]([CityCode])
ALTER TABLE [dbo].[Posting] ADD [CityCode] [nvarchar](128) NOT NULL DEFAULT ''
ALTER TABLE [dbo].[Posting] ADD [SchoolCode] [nvarchar](150) NOT NULL DEFAULT ''
ALTER TABLE [dbo].[Posting] ADD [School_SCode] [nvarchar](128)
ALTER TABLE [dbo].[Position] ADD [CityCode] [nvarchar](128) NOT NULL DEFAULT ''
ALTER TABLE [dbo].[Position] ADD [SchoolCode] [nvarchar](150) NOT NULL DEFAULT ''
ALTER TABLE [dbo].[Position] ADD [School_SCode] [nvarchar](128)
CREATE INDEX [IX_CityCode] ON [dbo].[Posting]([CityCode])
CREATE INDEX [IX_School_SCode] ON [dbo].[Posting]([School_SCode])
CREATE INDEX [IX_CityCode] ON [dbo].[Position]([CityCode])
CREATE INDEX [IX_School_SCode] ON [dbo].[Position]([School_SCode])
ALTER TABLE [dbo].[Posting] ADD CONSTRAINT [FK_dbo.Posting_dbo.City_CityCode] FOREIGN KEY ([CityCode]) REFERENCES [dbo].[City] ([Code])
ALTER TABLE [dbo].[Position] ADD CONSTRAINT [FK_dbo.Position_dbo.City_CityCode] FOREIGN KEY ([CityCode]) REFERENCES [dbo].[City] ([Code])
ALTER TABLE [dbo].[Position] ADD CONSTRAINT [FK_dbo.Position_dbo.School_School_SCode] FOREIGN KEY ([School_SCode]) REFERENCES [dbo].[School] ([SCode])
ALTER TABLE [dbo].[Posting] ADD CONSTRAINT [FK_dbo.Posting_dbo.School_School_SCode] FOREIGN KEY ([School_SCode]) REFERENCES [dbo].[School] ([SCode])
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Posting')
AND col_name(parent_object_id, parent_column_id) = 'City';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Posting] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[Posting] DROP COLUMN [City]
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Posting')
AND col_name(parent_object_id, parent_column_id) = 'SchoolName';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Posting] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[Posting] DROP COLUMN [SchoolName]
DECLARE @var2 nvarchar(128)
SELECT @var2 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Position')
AND col_name(parent_object_id, parent_column_id) = 'PositionCity';
IF @var2 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Position] DROP CONSTRAINT [' + @var2 + ']')
ALTER TABLE [dbo].[Position] DROP COLUMN [PositionCity]
DECLARE @var3 nvarchar(128)
SELECT @var3 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Position')
AND col_name(parent_object_id, parent_column_id) = 'PositionSchoolName';
IF @var3 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Position] DROP CONSTRAINT [' + @var3 + ']')
ALTER TABLE [dbo].[Position] DROP COLUMN [PositionSchoolName]
ALTER TABLE [dbo].[School] ADD CONSTRAINT [FK_dbo.School_dbo.City_CityCode] FOREIGN KEY ([CityCode]) REFERENCES [dbo].[City] ([Code])
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201803040359163_SchoolCityModelChange', N'CommunityProject_ProjectUnity.DAL.EntityMigrations.Configuration',  0x1F8B0800000000000400ED3DDB72DB3A92EF5B35FFA0D2D3ECA91CCB76EA6C9D4DD9339523275B9E3D39CE44C9D4BCB9180976B843911A92CAC4BBB55FB60FFB49FB0B0B9220894B376EBC887254798805108D4677A3BB017403FFF73FFF7BF5C76FDB68F695A45998C4D7F38BB3F3F98CC4EB6413C68FD7F37DFEF0E3CFF33FFEE177FF74F566B3FD36FB4BFDDDCBE23BDA32CEAEE75FF27CF76AB1C8D65FC836C8CEB6E13A4DB2E4213F5B27DB45B0491697E7E7FFBAB8B858100A624E61CD66571FF6711E6E49F983FE5C26F19AECF27D10BD4B3624CA5839AD59955067BF055B92ED8235B99E2F93ED761F87F9D3FB34F90FB2CEEFD9FF9F8AB2B39BD7BFCE67AFA330A088AD48F4309F05719CE4414ED17EF52923AB3C4DE2C7D58E1604D1C7A71DA1DF3D045146D8705EB59FDB8EECFCB218D9A26D58835AEFB33CD93A02BC78C948B5909B7B117CDE909212F30D257AFE548CBA24E8F5FCF56E1785EB20CE6FB7C1232581DCE5AB6594169F9BA85E71ED4C04F7622637FA916FF4A291262A74C53FFAFD3ECAF729B98EC93E4F83E8C5ECFDFE3305F8EFE4E963F237125FC7FB28E207448744EB84025A443BD991347FFA401EC061DEDECC670B11CA4206D30041215464B98DF39797F3D96F14B1E073441A595A68A18505102AF33989F31AD22F611CA44FF3D9BBE0DBAF247ECCBF5CCFE99FF3D9DBF01BD9D425F6D0DFD1D95500AEC153B9A7335A007FF9D3BFC0E0297BA802A08DF274AFF6F65BF0357C2CA503A3D17CF68144E517D9977057CDC35636EE65A17B9B26DB0F49C44390BEB9FF18A48FA4205562F87095ECD3B584F3D5A2957BBBD9D0DF4498CE1CF0917AB39C73145AE5494AFE8DC4240D72B2791FE43949A9CABBDD9092CE26A97D1BA6595EFCA991D89FCEAD04D67136BE0B379B8818BA7E69D7B5BEA75F83030DF1CD3608234DAF17C374FBFE4B12EB068B2AB86EDDFE99FA11E1039D7F855C76D5D5CB9414F2FCCB53FF9A14EEE92EAE7BBAA13F3F865B63C34FBBCD4828B29EDC51FC90FC83693AD9DE15AEDF3E4DA9CFF9F4AEC4A34452C0FD6718730F654495F16E9F17E09D8D1A33567D5BB6DA60192D5B6D021D112F71D5A15D94DE73964FC159FC0033C5D257901DD661FB368C88164D0A937D0311B5ACD2D0B2AA7725A1A04760EC844FDAF10B6862DF28A4443F74A5E6EA6F6114C108975508A2729D82A0F2411FEE56B5B4E9C7E12A5A9E5C2E5B97ABA013296500371BE7E7C378064996D3BEBA1AE756479EACFCC9CAF760E5FBB494883942EC696F96B2848FD9CAB6528B9E9FBD64931A448ED5DD8B6E498B1F54AFD81FF0A34E36282846DAD9FA94504E76C7D6EE3C84C6E5763F8AEC8664EB34DCE59C421AACAF93293A99A2D14C91CD6A08DF3315F5BF8BE169F6AC01D44A25782F7CD522A7542AE647FD02323FD68A5DC0A3A37AE7604D47C97348F9E87BA979278535D441C601CE30983FD05DBCE5D9874F002FF16E5CAD8EA2CDE04C47ACA7EEBB18FC968136D2FF947C5ED2D6BA8E07E9779507695E985C57F3BB8C928CA20837754422A39CDBEB3629063A4678FBF14D837B42A5DB1DC2DD8EC414D9AC9B7E5D0551A950BBC0B0F3842F2E87D9ED59D2896592DF4BC4E9EA28C0EB2F491299FA1EE8F48B4E81D309D46941D0CF82003F83F0DA5A91DD6FEDFE8B2DAACBD2806A50AC3E50512BCA5194CA4A8FBDA8B0D276303A65E53DEB42269758096D43495FB8AEA59C4F962044E12F0CA74ADE28579A54CBDDFA1395BF550DCA6156EDCA63E331174435B10639E2D252C9DA49AFA4BDA387BE2CFDEFA9B8E795257575D00F63FB4772D551F1CC4AA946E4B39278591F72C5AA6472759DC4B29EA61D05B302331DD15CF9C9E6EA590BE7708E78679FC0620AC8F6029A1EBEDB27612F710735A0E94C8323DF4019762976D865708D451F0BFAEF7349FDA7E473D1E569457D5A51775851EB96A9D5C20E58A7B615D03286AB755DC55099CE8B3C24102326F0F77517C25246A9547C46F50BD7655FBB84EABE8E46E9A6ACC6FA599456C0C155295F85E3A559975ABB1A8C059D3D0D06E7E468D83A1A1FC33C1AC1D330EE40F532B16511C5A7BE97900A7B449D4555807612D8497BC6761EF14F039D0B9DFCB0EFD90FE3B310FACEAD9015A63109A31787C87BD35E8FAED63FB2DFF72BB6B6BB6FFB15504E4ADD56A997E43A69F693663F6976CF2434651318CB52EB45835B1F1CC2687969EAD75996ACC31213997E724AA938C437F166669B5F5A89B810434CC5856AE5B0F845B1BA9E5FCC657D7B17DF9088E464F67A5D60474521C8D60174CC425171C6ADD9AD00706319B42282E76767174AD7D41690B450C64144674546AD4B18E7AAE108E375B80B224B7A49ED2D4D4F4188A627B9E686EC485C580D4BB2D8A060BAD8A440A8E957E298896E570B4E2EADC4554A9032C803962DA5084365C14449F8411103137C9DB0A913A14F218311194FC26042BB89D7A1244B8DBAC6B8AEC9306839CEC2BB47517B9A98F01621219E7C2865879266041944A960D3B736C7E100BAADCAB9B1D13B528AA5954E0319AE030FC81328E03FC86E88F5E0C1D0420C417D9C618B6393BB6052BA06D0B846B7B3185E734937C811A6938E1036DD7379F707994D7CD007C66C3002A4E5717D9E63EF108051552DC0EAB06F28E50B746EC3282898C94952002A5AF5DBC4151C443E8440619336C0240451303A1101638D0D32D29380405D8F222110198F4344B8437A0D43A1137B414842D795057CD03F9A98A87D8F25272A298F4050D423568CAF9AF3D696B7CD41BEBDDBA209D0F011442FB941C73682B7828EDFA66F2ED6EBB07AA6D90C34AA057573D0CC6683DB8BA5A27858BB6E6A471EDB38CE2E3C7C4B4FB7C9BE3BACFC3087D5C864391AA9275B250531193D69D5F57518347A668BA1693EC06DF195A254EC6961BE81CF6253D07F158D9C0ADB61ABD3293D11A4BB76F1F0F0CDB302CC1CEBC5CB1F754A28875DE832153DF9E2F0ABCEF01DD6BEE89D8E838ABC748CA6C74E27E29E031E55A4E54B790C3B78EA7DA553389BEBB4A5D8F18444A6C8786723F2C0A7782A521D1A17FBE0B405496B3DCAC5DB945F844508B912DCF329232CBE2763C10AB22814C05724074F1429C4F6C81A39A255662202500BCB160C0B95C5005576D0008ADD9CA5C060826ED19A9D49404084031D03A836CA4001D3E828038825E3BB026009C526C9AD577586AAD2BCB683E61184184B5AA7D500842DF42018CD9ADB0042CEA75700499E92892E2CB15C254B658DA4E6DCBC05E45EB9159CFB5C9E06DA700F447123011FCD98C429A8E82B87380D0864AD26649B23D2C49E5E520C014E2C5DB001342C24DC401D13132133A19000032BC27B1008B8804C258EE1BC5C18067E62CE0D81294B0D35F0736E094CAB357B151686A15E5000C70C65A9E89C751510D1AF3251D68316F0F52F2A39CC67B9E05A093CCDE586D11A310D41B4E7B79614F6208D9062AE52043D8C141714C071248772634335C3870E203910B511EF4D14B001E3A76BE6F3355F968F31683E69131C357660647164248E3B344F7EF890688891033964EAE80DA72096E7201CFAADBBA621027EF26143CF2E52D00AA74612E08D09CB4D7D7F895076252C2655175AD45EBC8612D0369CD5F6B43F15A4DD37B32EF520019E3BA4D2C26ECFDA6DD79A1B94BC36D190C8B84F3D946F89E52D998865318F0CBBD97D106ABC69255C7386DB579B4905ED6EFBDAD83166949AB3013854DAAD6EBBCD6E1E79B60CD77956D8F6F6503345CE0FC18860313390CD6F1F028C340394DBE7755B19964B2E6537BCCBC6456F8BAD3A55A7D9756DEAAE16D593C4ACE06A81BC5D7CF52ED8ED0ABAB72D59C96CC51E32FE71E5FEA4EFB682B1580BA495F7889B9EF2240D1E89545BC504950F6EDE0479F03928D2C0969BADF219B8C78C6C9DD55DC2DBC82AF3EA9DB5BA5DF1771DB06478E059DE825637ED19D0B774F0C50B57251D08BA7DA50298150F4F17B73461796D4DBECD3289F6DBD8361B07872C3E09CC43156B1C21B657E82B20DB2A15E6D542A2A072CAA13050397312E5C24D6A0613982EB2622F26B260B88902F7122E0F842BB687C5BF6DCB03E3CBEDA1B5EFD7F2B0DA527B48EC415A1E0C2BB287C15E97E561B0227B18CA53B13C34A5D21E2E97FFCC43E48A9D6115E9C300AC3BE53843078B4B7AE66171C5CEB064BCB8627B587CA6330F8C2F9F9A9AC276537A5054E52995B7AA825B0FA3ACDA372405D96C4A1DA6739B9A224C693C630587251CD1C326FA349D4FD3998F07E8771E57B104EE33186937CCDC6DDFE1E361B4A5F69084BB46786042C569FE9EE6EF40F3B7395BEE771A6B0ED22D26B3B635EEFD0B39CFE20A409B0E8DC304D7951E4B4A783539C185A466F7AD8B38D45159EEA280B61C46B3AB5ADD55A3372F8EF1409A427B38DC0B623C24AED8418CF947C50451E62BECE1D50F8BF1A0EA3287E57AF14C98304D8B02FBF677CD23613C90B6D481D6EC5E7181D0ACEC70B6BCCD0214581662B9819AF171378F0B63E4CA9DD61B21B4EAD7250E694679F2309EAF87B10476BE3B1B13281AC5C292C0CD70CBAF4C3CC769626F4A0EC49CFA88B35FEEC047B816FCC11AA24A0DD067C3F1A83F257D38CF0E0D63EAE8DA859EBB6E78D3A93A7735C6A8A9073F70870F392472DDF13B125CA2BAE42C63F9EB9A319EDC88E7EB46349193FDAAAE3A49C65D73A12D87515CEC45061E002B9A0C8BA418B47E19252621B9B3CBD07EAAD6A6F705E549473E5F1DC942DE7A76E6CBB43D0F5F1E6E37CC44E36E8A177C92B6F834E54E53AECB9413A31DD198863AB8D3336EA16E6E75B4594471C2677F6A2A9E4A2FAB59C8C38333F6391C7CD043AF0EF056125A949649BC295750B3DBACB8CCBFB9C8DF7ED072E0ABB3B42819263E4BEDA6B1ED821AE006925462C90B68EF8545E463F7D639C90A923B332949D10DB8B39CE06938DE7EB30045EB21A3819B00A74C093D9E2C13C1F6A07D4C1942DD74649C3BE2D8B380B4A90AFEE2D1C2D00A0772206B24B9F91ABC290886F9C23C2B2CEBFCA29185424EB4F238A2D7D9164BBEC3C955D3B12C4002D9F76358D46C34E7F5A0D690945FB818102C9FCD932515B81EF4029620776C8642CEBB7367376E18CA7A7BC500E7ED4D83D11357FC4A5A9DFC49B3046625CDEF26AD8EA5B409B976E5B08ACCB97238194BAF9373DCAA4FE6338AFBD77053E4B7AD9EB29C6CCF8A0FCE567F8F96515806C4D51FBC0BE2F0816479F542E1FCF2FCE2F2ECF57FEED3E20EA7280CB22AE591E5F0BD92AF5EB34AEABB785924F591CD762137774F0D2CA064D946D8B0525F81D4A5BED93DB9684A73333FC0A842A8EED80A0BEA2B57D8DDC61BF2ED7AFE5F65E357B3DBBFDECBED5FCCEE52CAAF57B3F3D97F3B3F5528E6D755887C0DD2CFE54B7BBFDF06DFFE990769F3DE9F945E57818C29CCF5972055DF17D401B77EDC13B155633CA25972CDF84CA62357B86C370DFD8A97331D01F3996F1AC82FCF5DB9DEA6C1F58B30CB8B93815A4C136A01FF4EEECBF62FA8A756FCDCD39A8F7430C53CE1D0BAF0C08BE5DA897829F3C50A949268C70956D78747FDE61D0AB87DC4B3D816CECB473CDD0029EF8EF685A1F2CCA82F86EAB3A369F28FAF7589F191502DC75C159ABA0F78B42AAD4D8AD3F1FDFCDC632AB639726E86B45209FCB56C8D29BD805486235E42B64E6F985D7A6072520BCF442D00A74847AB10DA4CBB7E390EBCFCDD17E80E339A6BDAC95F3F4DE5694F6554689AAD6E2FB961AD31D1E9B074C25F97B5522CDAAC3CB38E919ABBD14668DC6D56F5B9001E79ED0B6EDD1DAD55305A049FC55A93B9A783EB0E964BE3EBA690840C3E1C941552750A5F1F2BD33297AF02F4102581FB7AF4AEC9E3F35FD3D6A1F2FE106C3D828B4B8FD5471B81EFB147513716959780D2CFEE04E3E2F87B9E487C76A09BAE6E5B9EDC9FEFCAFD110F423DE6080FC0769E7430A7C0BBAA56B6143EE8355953F32CF550003DD8506B72810F9959110C391A37510C11A4C393ECC0A6A19B0709441C3E5F17B283E11BD4959093033B9C037C4F4E09976AE8E693340D4F2EC9C92599B04B02262A1EAD7A66498F5DF4B335E5343983474B3FD8BCD91F2A0934319C8C7B68635B0BF993CF5AFBA46A27AD6AED570D6A6AE1D1CE472E45D17F5296404E93F134190F30196DD286EC66A7455E8726A0124CD5334D6EB54BB73580DCBED352401C8AE701B11B127E5CEE7066E4C5633CA2FAC838CC0FC479039CB51C82BBBA8C0DCBED383C14BFEF39DB76E546C2BADDB39DA3782AC6003CEC32270FCAC189CC412EDB43112D6D9A01F074533D10F959F877FB280F8B5FB4FFEBF985929E7317DF9088E464F67A5D255D2C836C1D40DBEAB4532316EC856E08155625E2737E7676A1F444058CA4852B1D44CB24CEF23408D5AB1CDEA761BC0E7741A41042FAD27211508CB08129D7DC901D890BEF1E1EAF4D8FA6A48FA2FFA61B89F22682087943560226663FF7275D322BC1279D216055B908EE87E3950CE4822A9D581C4A220C2F9ECB0F950BCC6325A3E818E1E1760E07A17C28ED823D47D1BBFCE82FCC770C9E3B804E01DE02E9A604401E3ACB64BFAAC47A767714067BA933DFD133821C408FD4A3A250FBA83CEB9AB263302BF85B0607372A9A279F46110476B805C4C1B48CAB1E9BE7385615384D7EFE7E8BFAF158563408CB911BC7ED22799C388EDE9E0DF485DEDF3BEAA4EFCE6C1DA71DB4C5D1F1DA45911C9ED9D57D5C83733B54347A5B78FCFCC66E4A9F1CC359DC40137B8BDBF33AC280675953366DD6E3F73FF76EC99D78AFB9007DDCD90EBF06E5CBB569E979278E74E7BEB5A6D7BDA2332EF7C1F85C0F27CCE0CC1D62E63BB859E8B563C3CC7DD36567230880D3958E1C23C588299E9B52CD28DB46C8D1348A16BAB9D993C899EEB0EF5DE9D85DE909F66C73C9E2210511BAA36B7267235313C051B7C33B089FE9A6BCD1054F7B61DD71E83FC8BD823F7886BACFC5FB9AA4E6D3DE4DE8BBB5FAEC856EC47D5A6F71D35F1739E22EDE78BEFEC8CBBCB13D7D6BD64FC0D1B7BA7A97978232F45A1082AA6414DD22C5A929680CED3F616FE1F4AE4DF45728C3C2A4B90CF7108274140EFAA1056A5487DC43A826E0885BDC183D2DFD041938B1E219E82627333705CD743C0EF42185684487D9598C0EEE28B7CAD02AD2E9C0A6ED20D151E31832E7D8A8D102E4DE8837F473C7C6C26DFA8AE8B0E714C078E1F9AC8D204702ABABDBF9AFE79BCF09E578158B2E7FA32CC8903E75DD197AB2EDA4DA02C3BAA96A351D551F18BA62C2AE74C2CA21F0ACCA0058883955C00BB55027C20786AE1A5DAF74D3D4405D349506F055688602BB2A8600573506A8F5A68002B7795508805CD799091222C2D356212409ADC4A6095B503A686A20F84DA501BCB40BAC7422D5435D499F98B85179BF2A33AA7290175595CB4874CA03FBD038367BB502EF28EA31D1CE20F84B1B52EB28217F8012DF7EE4A24B08F7A81DA9F885D49BF8228D294D69C67D2E1B0E6D4A13E63C3583D59818B8AD60374500B035941EDFB12783944C83D3409775D3370178E5C2B7063586FBD0D5AC1160D886D412C855E510064DB1D00630C3654B9D7DEDC665F634AF9EC3C0CAA02B877C48E5315430821F18AD39D21F5E4F732823FAE600A2CC47AB03634583D90554793FAAC411F293C0B314AE0DE201F9F3111B131EB4DD71500E9CF61B16177E0C8F0B8B4FEE3EB0509143D4A3741F9A1A680B0CCF108D2B202C39B125BE88873AEA40D5A0521D1FE1C8537F840F21ACF5ACD60C133E9DF45116A3F2D21421080CD9F19D683CAC861B91763584C3809D2CCBE5478FC4629BD12EC4821FA7ECC9819C0E91E4031F23890C6F8A0E294D9032B15A42F646245B39323C71DA83DF7628C248512C1AC76738853BA045C1E23420A7D5EE3565F5D0941F2FB407A4B6813584610FA387C1E3E26EF964734FEA727C2258A845AB2796FBE03E24F1DAFDA4CE8336F17D78F536D6C0E5B346EDE69AE5A683978877DF7050DEAD6EEAAE16D596242BA03F95F7A9AF161FF671713762F5EB8664E1630BE28AC28CC95A38856BBEB98D1F92FA4450C2A8FE447E7A89E4C126C883D7691E3E04EB9C56AF4996951CFD4B10ED49F1A0EC67B2B98DEFF6F96E9FD32193EDE748583D16878ABAFEAF160ACE5777E5159B591F43A06886C5759277F12FFB30DA3478BF056EA6424014A795ECDAC8829779717DE4E35303E9B7F2E55A1B408C7CCD21EB47B2DD4514587617AF82AFC407B74F19F9953C06EBE2BDFAF299711C88991122D9AF6EC2E0310DB61983D1B6A73FA90C6FB6DFFEF0FF078650D7F42D0100 , N'6.1.3-40302')

