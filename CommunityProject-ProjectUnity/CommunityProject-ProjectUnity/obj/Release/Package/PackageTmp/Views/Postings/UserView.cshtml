@model IEnumerable<CommunityProject_ProjectUnity.Models.Posting>
@{
    ViewBag.Title = "UserView";
}
<link href="//cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>

<h2>UserView</h2>

<div class="container-fluid">
    <div class="col-md-12">
        <table id="dataTable" class="table table-striped table-bordered nowrap" cellspacing="0">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Closing Date</th>
                    <th>Salary</th>
                    <th>Cities</th>
                    <th>Schools</th>
                    <th>FTE</th>
                    <th>No. Of Openings</th>
                    <th>Apply</th>
                    <th>View More Details</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var posting in Model)
                {
                    <tr>
                        <td>@posting.Name</td>
                        <td>@posting.ClosingDate</td>
                        <td>@posting.Salary</td>
                        <td>
                            @foreach (var city in posting.Cities)
                            {
                                @city.Name<br />
                            }


                        </td>

                        <td>
                            @foreach (var school in posting.Schools)
                            {
                                @school.Shortname<br />
                            }


                        </td>
                        <td>@posting.FTE</td>
                        <td>@posting.Openings</td>
                        <td>
                            @Html.ActionLink("Apply", "Create", "Applications", new { id = posting.ID }, null)

                        </td>
                        <td>
                            @Html.ActionLink("View More Details", "Details", "Postings", new { id = posting.ID }, null)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
        

@section Scripts
{
    <script type="text/javascript">
        $(document).ready(function () {
            $('#dataTable').DataTable();
        });
    </script>
}